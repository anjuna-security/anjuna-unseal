<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    
    <title>Anjuna Vault Unseal Configuration &#8212; Anjuna Vault Unseal 0.17.0050 documentation</title>

    <link rel="stylesheet" href="../_static/material-icons.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/notosanscjkjp.css" />
    <link rel="stylesheet" type="text/css" href="../_static/roboto.css" />
    <link rel="stylesheet" type="text/css" href="../_static/material-design-lite-1.3.0/material.teal-red.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx_materialdesign_theme.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/sphinx_materialdesign_theme.js"></script>
    <link rel="shortcut icon" href="../_static/unseal_logo.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Anjuna Vault Unseal" href="sgx-unseal-run.html" />
    <link rel="prev" title="Anjuna Vault-Unseal tool Installer" href="installer-reference.html" /> 
  </head>
<body>
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header mdl-layout--fixed-drawer"><header class="mdl-layout__header mdl-layout__header--waterfall ">
    <div class="mdl-layout__header-row">
        
        <nav class="mdl-navigation breadcrumb">
            <a class="mdl-navigation__link" href="../tool-reference.html">Anjuna Tools Reference</a><i class="material-icons">navigate_next</i>
            <a class="mdl-navigation__link is-active">Anjuna Vault Unseal Configuration</a>
        </nav>
        <div class="mdl-layout-spacer"></div>
        <nav class="mdl-navigation">
        
<form class="form-inline pull-sm-right" action="../search.html" method="get">
      <div class="mdl-textfield mdl-js-textfield mdl-textfield--expandable mdl-textfield--floating-label mdl-textfield--align-right">
        <label id="quick-search-icon" class="mdl-button mdl-js-button mdl-button--icon"  for="waterfall-exp">
            <i class="material-icons">search</i>
        </label>
        <div class="mdl-textfield__expandable-holder">
          <input class="mdl-textfield__input" type="text" name="q"  id="waterfall-exp" placeholder="Search" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </div>
      </div>
      <div class="mdl-tooltip" data-mdl-for="quick-search-icon">
      Quick search
      </div>
</form>
        
        </nav>
    </div>
    <div class="mdl-layout__header-row header-links">
      <div class="mdl-layout-spacer"></div>
      <nav class="mdl-navigation">
          
              <a  class="mdl-navigation__link" href="https://www.anjuna.io">
                  
				     
					  <i class="material-icons navigation-link-icon">home</i>
					
				  
                  Anjuna
              </a>
          
              <a  class="mdl-navigation__link" href="mailto:support@anjuna.io">
                  
				     
					  <i class="material-icons navigation-link-icon">email</i>
					
				  
                  Contact us
              </a>
          
              <a  class="mdl-navigation__link" href="https://join.slack.com/t/anjunacommunity/shared_invite/enQtNTcxNzkxMjI1ODMxLWRiYjhmYjM0YzdkYWUyY2UyOGViZjQ3ZWMyYjNlZmI2ZmI2MWY5ZGRhYmQ2MmVjNTM5MjY3MTE5YWM2NjkyYzM">
                  
				    
					  <img height="20px" src="../_static/anjuna/slack.png"/>
				    
				  
                  Anjuna Community Slack
              </a>
      </nav>
    </div>
</header><header class="mdl-layout__drawer">
    
          <!-- Title -->
      <span class="mdl-layout-title">
          <a class="title" href="../index.html">
              <img class="logo" src="../_static/unseal_logo.svg" alt="Anjuna Vault Unseal"/>
          </a>
      </span>
    
<div class="globaltoc">
  <span class="mdl-layout-title toc">Table Of Contents</span>
  
  
      
      <nav class="mdl-navigation">
          <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sgx-servers.html">Getting access to Intel® SGX</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installing.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started.html">Getting started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../tool-reference.html">Anjuna Tools Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="installer-reference.html">Anjuna Vault-Unseal tool Installer</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Anjuna Vault Unseal Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="sgx-unseal-run.html">Anjuna Vault Unseal</a></li>
<li class="toctree-l2"><a class="reference internal" href="vault-quick-setup.html">Tutorial: Setting up a Vault test instance</a></li>
</ul>
</li>
</ul>

      </nav>
  
  </div>

</header>
        <main class="mdl-layout__content" tabIndex="0">
<header class="mdl-layout__drawer">
    
          <!-- Title -->
      <span class="mdl-layout-title">
          <a class="title" href="../index.html">
              <img class="logo" src="../_static/unseal_logo.svg" alt="Anjuna Vault Unseal"/>
          </a>
      </span>
    
<div class="globaltoc">
  <span class="mdl-layout-title toc">Table Of Contents</span>
  
  
      
      <nav class="mdl-navigation">
          <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sgx-servers.html">Getting access to Intel® SGX</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installing.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started.html">Getting started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../tool-reference.html">Anjuna Tools Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="installer-reference.html">Anjuna Vault-Unseal tool Installer</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Anjuna Vault Unseal Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="sgx-unseal-run.html">Anjuna Vault Unseal</a></li>
<li class="toctree-l2"><a class="reference internal" href="vault-quick-setup.html">Tutorial: Setting up a Vault test instance</a></li>
</ul>
</li>
</ul>

      </nav>
  
  </div>

</header>

    <div class="document">
        <div class="page-content">
        
  <div class="section" id="anjuna-vault-unseal-configuration">
<span id="anchor-unseal-config-reference"></span><h1>Anjuna Vault Unseal Configuration<a class="headerlink" href="#anjuna-vault-unseal-configuration" title="Permalink to this headline">¶</a></h1>
<div class="section" id="name">
<h2>NAME<a class="headerlink" href="#name" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">anjuna-create-unseal-config</span></code>: Create an encrypted configuration file to securely
unseal a Vault server</p>
</div>
<div class="section" id="synopsis">
<h2>SYNOPSIS<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ anjuna-create-unseal-config [OPTIONS]...
</pre></div>
</div>
</div>
<div class="section" id="description">
<h2>DESCRIPTION<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>The Anjuna Vault Unseal Configuration utility creates an encrypted
configuration file that stores the Vault unseal tokens and server certificate.</p>
<p>The utility can work in interactive mode or command line mode. When parameters
are not provided on the command line, the user will be prompted for the information.</p>
<p>Once the encrypted configuration file has been created, it is not possible
to inspect or edit its content. If the configuration file needs
to change in any way, it should be recreated.</p>
<p>The Anjuna Vault Unseal Configuration utility creates the configuration file
in the current directory, and will overwrite any existing configuration.</p>
</div>
<div class="section" id="options">
<h2>OPTIONS<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h2>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--help               : Display this information and exit
--endpoint           : Specify the Vault server address
--cacert             : Specify the path for the Vault server CA-CERT
--unseal-key         : One of the unseal keys to unseal Vault. This parameter
                       can be used multiple times where there are more than
                       one unseal key
</pre></div>
</div>
</div>
<div class="section" id="exit-status">
<h2>EXIT STATUS<a class="headerlink" href="#exit-status" title="Permalink to this headline">¶</a></h2>
<p>Returns:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">0</span></code> on success</li>
<li><code class="docutils literal notranslate"><span class="pre">1</span></code> if any of the parameters are invalid</li>
</ul>
</div>
<div class="section" id="example">
<h2>EXAMPLE<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p>In interactive mode, the utility will prompt the user for the required information:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ anjuna-create-unseal-config
</pre></div>
</div>
<p>which will produce an interactive session like this:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ anjuna-create-unseal-config
Anjuna Vault Unseal Configuration
-----
[Vault URL]       : https://vault.anjuna.test:8200
[Vault CA-CERT]   : /etc/vault/cacert.pem
[Unseal Key #1]   : qxxczFlqtGRHdPtK2MaJKUR2wSvPkiTX4p0BfnZnfmPG
[Unseal Key #2]   : hEOpCKJc5jqpIssMhTVx5xNWSGB6BQdbaPVm3nyYg3AP
[Unseal Key #3]   : Qk1xt0SW4pey8Q3yw5NFfuhiR8ZDehX5d1Zwm3HPO4IL
[Unseal Key #4]   :
Using Vault endpoint: https://vault.anjuna.test:8200
Using Vault CA-CERT: /etc/vault/cacert.pem
Using Unseal Keys:
- qxxczFlqtGRHdPtK2MaJKUR2wSvPkiTX4p0BfnZnfmPG
- hEOpCKJc5jqpIssMhTVx5xNWSGB6BQdbaPVm3nyYg3AP
- Qk1xt0SW4pey8Q3yw5NFfuhiR8ZDehX5d1Zwm3HPO4IL
Generating unseal-config.yml in current directory
Encrypting unseal-config.yml
Sealed unseal-config.yml to unseal-config.yml.sealed
Deleting unseal-config.yml
Success: unseal-config.yml.sealed generated =&gt; the Vault unseal configuration was created and encrypted
</pre></div>
</div>
<p>In command line mode, the parameters can be passed as arguments:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ anjuna-create-unseal-config --endpoint https://vault.anjuna.test:8200 <span class="se">\</span>
  --cacert /etc/vault/cacert.pem <span class="se">\</span>
  --unseal-key qxxczFlqtGRHdPtK2MaJKUR2wSvPkiTX4p0BfnZnfmPG <span class="se">\</span>
  --unseal-key hEOpCKJc5jqpIssMhTVx5xNWSGB6BQdbaPVm3nyYg3AP <span class="se">\</span>
  --unseal-key Qk1xt0SW4pey8Q3yw5NFfuhiR8ZDehX5d1Zwm3HPO4IL
</pre></div>
</div>
<p>which produces a similar output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Using Vault endpoint: https://vault.anjuna.test:8200
Using Vault CA-CERT: /etc/vault/cacert.pem
Using Unseal Keys:
- qxxczFlqtGRHdPtK2MaJKUR2wSvPkiTX4p0BfnZnfmPG
- hEOpCKJc5jqpIssMhTVx5xNWSGB6BQdbaPVm3nyYg3AP
- Qk1xt0SW4pey8Q3yw5NFfuhiR8ZDehX5d1Zwm3HPO4IL
Generating unseal-config.yml in current directory
Encrypting unseal-config.yml
Sealed unseal-config.yml to unseal-config.yml.sealed
Deleting unseal-config.yml
Success: unseal-config.yml.sealed generated =&gt; the Vault unseal configuration was created and encrypted
</pre></div>
</div>
</div>
</div>


        </div>
        <div class="side-doc-outline">
            <div class="side-doc-outline--content"> 
<div class="localtoc">
    <p class="caption">
      <span class="caption-text">Table Of Contents</span>
    </p>
    <ul>
<li><a class="reference internal" href="#">Anjuna Vault Unseal Configuration</a><ul>
<li><a class="reference internal" href="#name">NAME</a></li>
<li><a class="reference internal" href="#synopsis">SYNOPSIS</a></li>
<li><a class="reference internal" href="#description">DESCRIPTION</a></li>
<li><a class="reference internal" href="#options">OPTIONS</a></li>
<li><a class="reference internal" href="#exit-status">EXIT STATUS</a></li>
<li><a class="reference internal" href="#example">EXAMPLE</a></li>
</ul>
</li>
</ul>

</div>
            </div>
        </div>

      <div class="clearer"></div>
    </div><div class="pagenation">
     <a id="button-prev" href="installer-reference.html" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--colored" role="botton" accesskey="P">
         <i class="pagenation-arrow-L material-icons">arrow_back</i>
         <div class="pagenation-text">
            <span class="pagenation-direction">Previous</span>
            <div>Anjuna Vault-Unseal tool Installer</div>
         </div>
     </a>
     <a id="button-next" href="sgx-unseal-run.html" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--colored" role="botton" accesskey="N">
        <i class="pagenation-arrow-R material-icons">arrow_forward</i>
        <div class="pagenation-text">
            <span class="pagenation-direction">Next</span>
            <div>Anjuna Vault Unseal</div>
        </div>
     </a>
  </div>

        <footer class="mdl-mini-footer">
    <div class="mdl-mini-footer__left-section">
      <div class="mdl-logo">Anjuna Vault Unseal</div>
      <!--div>
        
        <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sgx-servers.html">Getting access to Intel® SGX</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installing.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started.html">Getting started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../tool-reference.html">Anjuna Tools Reference</a></li>
</ul>

      </div-->
    </div>

    <div class="mdl-mini-footer__right-section">
        <div>&copy; Copyright 2019, Anjuna Security, Inc..</div>
	  <div> <a href="../privacy.html">Privacy policy</a> </div>
    </div>
</footer>
        </main>
    </div>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-133911409-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-133911409-2');
</script>


<script type="text/javascript" src="https://secure.leadforensics.com/js/145499.js" ></script>
<noscript><img alt="" src="https://secure.leadforensics.com/145499.png" style="display:none;" /></noscript>


  </body>
</html>